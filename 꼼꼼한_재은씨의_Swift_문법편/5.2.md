# 집합

집합(Sets)은 같은 타입의 서로 다른 값을 중복 없이 저장하고자 할 때 사용하는 집단 자료형이에요.

집합은 순서가 없는 컬렉션으로, 순서가 중요하지 않거나 각 요소가 한 번만 나타나야 하는 경우에 사용해요.

집합은 내부적으로 해시(Hash) 연산의 결과값을 이용하는 데이터를 저장하므로 집합에 저장할 데이터 타입은 해시 연산을 할 수 있는 타입이어야 해요.

스위프트의 모든 기본 타입은 해시 연산을 할 수 있으며, 직접 정의한 타입은 Hashable 프로토콜을 채택하면 해시 연산을 할 수 있어요.

---

### 해시에 대하여

Set에서 특정 원소의 존재를 빠르게 확인하기 위해, 대부분의 언어와 라이브러리에서 내부적으로 해시 테이블을 사용합니다.

해시 테이블의 핵심 요소는 해시 함수입니다. 해시 함수는 입력으로 주어진 값을 고정된 길이의 해시 값으로 변환합니다. 이 해시 값은 해시 테이블 내에서 원소의 위치를 결정하는 데 사용됩니다.

해시 알고리즘의 몇 가지 특징은 다음과 같습니다.

- 일관성: 동일한 입력에 대해서는 항상 동일한 해시 값을 반환해야 합니다.

- 빠른 계산: 해시 값을 빠르게 계산할 수 있어야 합니다.

- 분포: 가능한 모든 해시 값에 대해 원소들이 균등하게 분포되어야 합니다. 이렇게 하면 해시 충돌의 확률이 줄어듭니다.

그러나 완벽한 해시 함수는 존재하지 않기 때문에 해시 충돌이 발생할 수 있습니다. 이러한 경우, 다양한 충돌 해결 전략이 사용될 수 있습니다. 예를 들면, 체이닝이라는 방법에서는 각 해시 버킷에 연결 리스트를 사용하여 충돌을 해결합니다.

해시 테이블에서 키를 해시 함수를 통해 연산하면 결과로 나오는 해시 값은 해시 테이블의 인덱스로 사용됩니다. 그런데 이 "인덱스"가 실제 메모리 주소를 직접 나타내는 것은 아닙니다. 대신, 이 인덱스는 보통 배열이나 다른 연속적인 메모리 구조에 사용되어, 해당 위치의 값을 참조하거나 저장하는데 사용됩니다.

해시 테이블의 구현에 따라 다르겠지만, 일반적인 구현에서의 과정은 아래와 같습니다:

키를 해시 함수에 적용: 주어진 키를 해시 함수에 적용하여 해시 값(인덱스)을 계산합니다.

해시 값을 인덱스로 사용: 계산된 해시 값을 배열(또는 비슷한 메모리 구조)의 인덱스로 사용하여 해당 위치에 접근합니다.

값 저장 또는 참조: 해당 인덱스 위치에 값을 저장하거나, 이미 저장된 값을 참조합니다.

예를 들어, 우리가 크기가 10인 배열을 백엔드로 사용하는 간단한 해시 테이블을 가지고 있다고 가정해보겠습니다. 키 "apple"이 주어졌고, 해시 함수를 적용했을 때 결과로 7이 나왔다면, 이 "7"은 배열의 인덱스로 사용되어, 배열의 8번째 위치(인덱스는 0부터 시작하므로)에 값을 저장하거나 참조하게 됩니다.

여기서 "7"이라는 인덱스 값 자체는 실제 메모리 주소를 나타내는 것은 아닙니다. 대신, 해당 배열이 저장된 메모리 상의 위치와 "7"이라는 오프셋(offset)을 합산하여 실제 메모리 주소를 찾게 됩니다. 이렇게 해시 테이블은 인덱스를 통해 간접적으로 실제 메모리 주소에 접근하게 됩니다.

대표적인 해시 알고리즘: MD5, SHA-1, SHA-256

[이전](https://github.com/MojitoBar/iOS-DeepDive/blob/main/%EA%BC%BC%EA%BC%BC%ED%95%9C_%EC%9E%AC%EC%9D%80%EC%94%A8%EC%9D%98_Swift_%EB%AC%B8%EB%B2%95%ED%8E%B8/5.1.4.md)
[다음](https://github.com/MojitoBar/iOS-DeepDive/blob/main/%EA%BC%BC%EA%BC%BC%ED%95%9C_%EC%9E%AC%EC%9D%80%EC%94%A8%EC%9D%98_Swift_%EB%AC%B8%EB%B2%95%ED%8E%B8/5.2.1.md)

[처음으로](https://github.com/MojitoBar/iOS-DeepDive/blob/main/%EA%BC%BC%EA%BC%BC%ED%95%9C_%EC%9E%AC%EC%9D%80%EC%94%A8%EC%9D%98_Swift_%EB%AC%B8%EB%B2%95%ED%8E%B8/README.md)
