# 타입 추론과 타입 어노테이션

```swift
var day = 7

var yaer: Int
yaer = 1999
```

위 코드는 변수의 선언과 초기화를 동시에 한 것과 분리하여 선언한 예시에요.

선언과 초기화를 분리한 year 변수를 보면, 콜론(:)과 함께 Int 자료형을 명시해 놓은 것을 확인할 수 있어요.

타입 어노테이션(Type annotation)이란, 변수나 상수를 선언할 때 그 타입을 명시적으로 선언해 줌으로써 어떤 타입의 값이 저장될 것인지를 컴파일러에 직접 알려주는 문접이에요.

그렇다면 day는 왜 타입 어노테이션이 없어도 되는 걸까요?

이는 1장에서 배운 스위프트의 특정 중 **설계에 의한 안전성(Safety by design)**의 타입 추론 기능 때문이에요.

타입 추론은 변수나 상수를 초기화할 때 입력된 값을 분석하여 변수에 적절한 타입을 컴파일러가 스스로 추론하는 기능이에요.

그렇다면 타입 어노테이션을 써야 할지 말아야 할지 고민이 될 때는 어떻게 해야 할까요?

결론부터 말하자면, 반드시 타입 어노테이션을 사용해야 하는 다음 두 가지 경우를 제외하면 타입을 명시적으로 선언하지 않아도 돼요.

- 선언과 초기화를 분리할 경우

```swift
// 선언 + 타입 어노테이션
var year: Int

// 초기화
yar = 1999
```

- 타입 추론으로 얻어지는 타입이 아닌, 다른 타입을 직접 지정할 필요가 있을 때

```swift
// Int 타입으로 정의
var temper1 = 3

// Float 타입으로 정의
var temper2: Float = 3
```

## 😀 Jito

타입 명시(Annotation)와 타입 추론(Inference) 중 어떤 방법이 성능이 더 좋을까?

## 🤖 GPT-4.0

Swift의 타입 어노테이션(Type Annotation)과 타입 추론(Type Inference) 사이의 성능 차이를 굳이 따져보면, 주로 컴파일 타임에서 차이가 나타납니다.

1. 컴파일 타임

   - 타입 추론(Type Inference): Swift의 컴파일러는 타입을 추론하기 위해 추가적인 작업을 수행합니다. 특히 코드가 복잡할수록 타입을 추론하는데 더 많은 시간이 소요될 수 있습니다.
   - 타입 어노테이션(Type Annotation): 타입을 명시적으로 지정하면 컴파일러는 해당 타입을 확인하는 데 드는 시간을 줄일 수 있습니다. 따라서 복잡한 코드나 큰 프로젝트에서는 타입 어노테이션을 사용하여 컴파일 시간을 줄일 수 있습니다.

2. 런타임 성능:
   - 런타임 성능은 타입 추론과 타입 어노테이션 사이에 차이가 없습니다. 모든 타입 정보는 컴파일 시점에 결정되기 때문에 런타임 성능에 영향을 주지 않습니다.

굳이 따지면, 컴파일 시간을 기준으로 할 때 타입 어노테이션을 사용하는 것이 성능상의 이점이 있을 수 있습니다. 하지만 실제 개발 시에는 이 차이가 크게 눈에 띄지 않을 수 있으며, 대부분의 경우 타입 추론이 코드의 가독성과 개발 속도를 향상시키는 데 도움이 됩니다. 그러므로 성능보다는 가독성, 코드의 명확성, 개발 편의성을 우선시하는 것이 좋습니다.

---

GPT는 타입을 명시해주는 타입 어노테이션이 더 빠를 것이라 이야기 해준다.

그런데 [직접 실행을 해본 글](https://forums.swift.org/t/regarding-swift-type-inference-compile-time-performance/49748)을 보면 string의 경우 타입 추론이 더 속도가 빠르다는 글이 있기도 하다.

확실히 매우 미비하거나 거의 차이가 없어보인다. 성능을 생각하기보단 GPT의 조언대로 가독성, 명확성, 편의성을 우선시하는게 맞는 것 같다.
