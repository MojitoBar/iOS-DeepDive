# 옵셔널: 스위프트가 잠재적 오류를 다루는 방법

옵셔널(Optional)은 스위프트에서 도입된 새로운 개념으로서 언어 차원에서 프로그램의 안전성을 높이기 위해 사용하는 개념이에요.

옵셔널의 개념을 한 문장으로 정의하자면 'nil을 사용할 수 있는 타입과 사용할 수 없는 타입을 구분하고, 사용할 수 있는 타입을 가리켜 옵셔널 타입(Optional Type)이라고 부른다'라고 할 수 있어요.

여기서 말하는 nil이란, **값이 없음**을 의미하는 특수한 값이에요.

정수형의 0이나, 문자열의 ""과는 다른, 말 그대로 순수하게 아무 값도 없다는 것을 의미해요.

앞에서 잠깐 다룬 딕셔너리를 예로 들어볼게요. 저장된 값을 읽으려면 딕셔너리 변수명 뒤에 대괄호를 사용하고 그 안에 키를 넣어주어야 하는데, 종종 잘못된 키를 대입할 때가 있어요.

이같은 상황에서 스위프트는 오류를 발생시키지 않고, nil을 반환해요. 이렇게 되면 딕셔너리에서 값을 읽어오지 못했음을 알 수 있어요.

왜냐하면 오류를 발생시키는 것은 그리 좋지 않기 때문이에요. 오류가 발생하면 프로그램이 강제로 종료되기 때문이죠.

```swift
let capitalCity = ["KR": "Seoul", "EN": "London", "FR": "Paris"]

capitalCity["Ko"] // nil
```

하지만 모든 타입이 nil을 반환할 수 있는 것은 아니며 오직 옵셔널 타입만 nil을 반환할 수 있어요. 다시 말해, nil을 반환하려면 해당 값이 옵셔널 타입으로 정의되어 있어야 해요.

여기에서 중요한 것은 "**오류가 발생할 가능성**"이에요.언젠가 오류가 발생할 수 있는 가능성이 아주 조금이라도 있다면 그 타입은 옵셔널 타입으로 정의해야 해요.

문자열 "123"을 숫자로 변환해야 한다고 가정해 볼게요.

이때 문자열이 숫자로 변환될 수 없다면 오류가 발생할 수 있어요. 이런 경우에는 숫자로 변환된 값이 옵셔널 타입으로 정의되어야 해요.

```swift
let number = Int("123") // 123
let notNumber = Int("Swift") // nil
```

스위프트는 언어의 안정성을 위해 가급적 오류를 발생시키지 않으려고 노력해요. 이런 맥락에서 스위프트는 억지로 값을 반환하려고 노력해요.

하지만 아무 값이나 반환할 수는 없어요. 이런 목적에서 정의된 값이 바로 "값이 없음"을 뜻하는 nil이에요.

이 값은 원래 오브젝티브-C에서 쓰이던 값이었는데, 스위프트로 넘어오면서 의미가 약간 달라졌어요. 오브젝티브-C에서는 빈 메모리 주소를 가리키는 값이었지만 스위프트에서는 단순히 '**값이 없음**'을 의미하게 되었어요.

그런데 스위프트에서는 nil의 사용에 일반 자료형은 nil 값을 가질 수 없다는 제약을 걸어두었어요.

그래서 nil을 사용할 수 있는 자료형을 따로 정의해두었는데, 바로 옵셔널 타입이에요.

결국, 옵셔널 타입이란 **반환하고자 하는 값을 옵셔널 객체로 다시 한 번 감싼 형태**를 의미해요.

처리가 성공적일 경우, 옵셔널 타입으로 반환된 값을 열러보면 실제 값이 옵셔널 타입으로 둘러싸여 있는 것을 확인할 수 있어요. 이를 옵셔널 래핑(Optional Unwrapping)라고 해요. 이렇게 받은 값은 옵셔널 언래핑(Optional Unwrapping)이라고 불리는 특수한 처리 과정을 통해 값을 추출해야 해요.

[이전](https://github.com/MojitoBar/iOS-DeepDive/blob/main/%EA%BC%BC%EA%BC%BC%ED%95%9C_%EC%9E%AC%EC%9D%80%EC%94%A8%EC%9D%98_Swift_%EB%AC%B8%EB%B2%95%ED%8E%B8/5.4.3.md)
[다음](https://github.com/MojitoBar/iOS-DeepDive/blob/main/%EA%BC%BC%EA%BC%BC%ED%95%9C_%EC%9E%AC%EC%9D%80%EC%94%A8%EC%9D%98_Swift_%EB%AC%B8%EB%B2%95%ED%8E%B8/6.1.md)

[처음으로](https://github.com/MojitoBar/iOS-DeepDive/blob/main/%EA%BC%BC%EA%BC%BC%ED%95%9C_%EC%9E%AC%EC%9D%80%EC%94%A8%EC%9D%98_Swift_%EB%AC%B8%EB%B2%95%ED%8E%B8/README.md)
